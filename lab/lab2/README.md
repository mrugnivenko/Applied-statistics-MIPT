# Лабораторная работа 2
## Алгоритм получения задания
1. Запустите скрипт [get_lab2.py](get_lab2.py).
2. Введите адрес своей электронной почты.
3. Программа вернет номера заданий, которые требуется выполнить.


Проверка прав без изменения репозитория: https://stackoverflow.com/questions/22811045/how-can-i-check-write-access-to-a-remote-git-repository-can-i-push


## Cдача задания
1. Создать ветку вида  lab2/Ivanov.
2. В папку заливать **ноутбуки (для задачи 1)** и **pdf-файл с решением (для задачи 2)**.

## Основные критерии оценки за задание
* аккуратность оформления работы;
* наличие выводов;
* обоснованность выбора статистических критериев, учет поправки на множественность гипотез
* в случае работы с синтетическими данными: учет неточностей, связанных со случайным порождением данных
* в случае работы с реальными данными также учитывается предобработка
 
# Задание 1

## Задача 1.1

[Дана выборка](https://drive.google.com/file/d/1cMqd315q_eR_x2oH5LsUTvVvAaODct-F/view?usp=sharing)

Выборка состоит из трех обзектов: X_train, Y_train, X_test

Y_train - изображение (пиксель кодируется черно-белой компонентой изображения), X_train - признаки, соответствующие этому изображению. (элемент X[i,j] соответствует набору признаков для пикселя Y[i,j]).

Требуется:

1. Провести отбор наиболее значимых признаков и построить регрессию X->Y
2. Проинтерпетировать признаки (каждый признак является функцией, возможно нелинейной, от значения пикселя)
3. Получить изображение по X_test (оцениваться будет качество полученного изображения. Ожидается, что регрессия на X_train, Y_train даст R^2>0.85).


## Задача 1.2
Выборка: 

[Архив записей голоса](https://www.kaggle.com/rtatman/speech-accent-archive)

Требуется: 
1. Отобрать записи, соответствующие странам с минимум 30 респонеднтами в выборке
2. Получить сумму zero-crossing по каждой из записей
3. Провести ANOVA-анализ по аттрибутам родного языка, пола и возраста для уровня значимости 0.15. Дискретность признака zero-crossing игнорировать. Учитывать также межфакторное взаимодействие.

### Ссылка
* https://towardsdatascience.com/music-genre-classification-with-python-c714d032f0d8


## Задача 1.3

[Задана выборка пар изображений](https://drive.google.com/file/d/156K2MIDP3UqRc5qkH0VpI9IXhWTA-o6G/view?usp=sharing): каждая пара состоит из оригинального (original_id.bmp) изображения и искаженного (modified_id_phrase.bmp).
Также задана пара контрольных изображений original_test, modified_test.

В 99% случаев искажение заключается в добавлении белого шума. В 1% случаев искажение заключается в добавлении к изображению скрытого сообщения. 
Алгоритм заключается в следующем:
1. У исходной фразы берутся порядковые номера всех символов в порядке английского алфавита (abcz -> 0,1,2,25).
2. Полученный вектор домножается на неизвестный коэффициент alpha и складывается с вектором картинки (image = image.flatten() + alpha*v + шум).
3. Если фраза слишком короткая, искажение продолжается периодически.

Требуется раскодировать фразу из контрольной пары.

NB: предполагается, что вы найдете искаженные изображения без шума с применением статистических моделей, а не перебором.


### Ссылки
* https://imageio.readthedocs.io/en/stable/userapi.html
* https://docs.python.org/3/library/functions.html#ord

## Задача 1.4
[Выборка: новости Lenta.ru](https://github.com/yutkin/Lenta.Ru-News-Dataset)

1. Взять случайную подвыборку новостей lenta.ru за 2019 год (не менее 3000)
2. На основе подвыборки построить граф связей упоминания личностей, организаций и стран из [списка](entities.txt).
3. В новостях выбрать сущность, зависящую от наибольшего количества других сущностей (далее будем называть ее центральной)
4. посчитать ACE уопминания центральной сущности при упоминании (и отсутствии упоминания) сущностей, от которых она зависит
5. сравнить результаты пункта 4 с оценками вероятностей упоминания центральной сущности при условии упоминания (и при отсутствии упоминания) сущностей, от которых она зависит

**Рекомендации: (в случае использования пакета causality):**

1. в качестве теста для проверки условной независимости использовать MutualInformationTest
2. результаты будут сильно отличаться в зависимости от полученной случаной подвыборки. Фиксируйте seed.
3. для учета разного написания сущности (число, род, падеж) используйте методы стеминга (nltk.stem или mystem):
https://www.kaggle.com/alxmamaev/how-to-easy-preprocess-russian-text
4. causality не умеет работать с циклами (но сам их производит). Циклы можно удалять (в этой лабе, в реальности нельзя).

# Задание 2
Все переходы должны быть полностью описаны. Все выкладки и преобразования должны быть явно посчитаны.

## Задача 2.1
[**Выборка:**](2.1.csv)
Рассматривается задача тестирования вакцины от некоторого вируса. Производство вакцины очень дорогое и затратное по времени, поэтому в день может быть произведена только одна ампула.

Требуется проверить, что вакцина помогает (вероятность заразиться меньше у человека с вакциной чем у человека без вакцины).

Эксперимент ставится следующим образом: каждый день есть два идентичных по здоровью человека. Один из людей принимает вакцину, а второй нет, после чего обоих ставят в одну среду с вирусом. В конце для проверяют кто заразился. (В таблице: s --- sick; h --- healthy)

Весь мир ждет вакцину от данного вируса, поэтому к руководству института постоянно приходят запросы о сроках завершения тестирования образца. Руководство поручило Вам оценить среднее время, которое понадобится на тестирования данной вакцины. А также провести анализ полученных данных на уровне значимости \alpha=0.05 и при ошибке второго рода beta=0.8.


Требуется:

1. Записать задачу формально;
2. Выполнить оценку среднего количества дней для принятия решения (учесть что истинная вероятность заразиться с вакциной и без равны p_1 = 0.2, p_2 = 0.5 соответственно);
3. Выполнить анализ данных и выяснить работает ли вакцина или нет.

Все выкладки должны быть сделаны аналитически, без использования компьютера.

## Задача 2.2
[**Выборка:**](2.2.csv)

Рассмотрим задачу предсказание числа заболевших некоторой болезнью от некоторых экологических анализов. Гарантируется, что предсказание описывается линейной моделью.

Так как проведение анализов не является бесплатным, то стоит вопрос о том какие из анализов являются лишними (на уровне значимости \alpha=0.05) для предсказания линейной модели.

Требуется:
	
1. Записать задачу формально;
2. Провести отбор приизнаков линейной модели.

Все выкладки должны быть сделаны аналитически, без использования компьютера.

## Задача 2.3 
[**Выборка:**](2.3.csv)

Требуется построить авторегрессионную модель (autoregressive moving-average model, ARMA) для данных предложенных в приложении.

1. Записать задачу формально;
2. Выписать все формулы аналитически;
3. Провести вычисления всех параметров модели аналитически.

Все выкладки должны быть сделаны аналитически, без использования компьютера. Дополнительно к слайдам про ARMA можно почитать [здесь](https://math.unm.edu/~ghuerta/tseries/week4_1.pdf).

## Задача 2.4 
[**Выборка:**](2.4.csv)

В городе Н. правительство решило начать борьбу с превышениями скорости автомобилей. Для выбора стратегии борьбы оно сначала решило провести исследования касательно того, влияет ли используемый водителем автомобиль на среднюю скорость передвижения.
        
Для этого было сформировано 3 выборки по 20 человек, в каждой из которой людям выдали одинаковые автомобили марок Mitsubishi, Audi и BMW, соответственно. В течение месяца замерялась средняя скорость каждого из автомобилей (см. файл). 
        
Каждая из пар групп была проверена двувыборочным критерием на равенство распределений, также была проведена поправка на множественность гипотез.

Требуется:

1. Описать, в чём недостаток подхода правительства.
2. Предложить метод для более корректного решения задачи.
3. Записать формальное условие задачи.
4. Решить задачу аналитически (**все аналитические выкладки должны быть описаны**)
